<html>
  <!--
    Baseball Team Generator
    --DONE--
      pull ai-created palette from colormind.io
      edit svg with colors from palette
  -->
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      var palette;
      function generate() {
        var url = "http://colormind.io/api/";
        var data = {
          model : "default",
        }

        var http = new XMLHttpRequest();
        
        http.onreadystatechange = function() {
          if(http.readyState == 4 && http.status == 200) {
            palette = JSON.parse(http.responseText).result;
            document.getElementById("result").innerHTML=palette;
            var c=document.getElementById("canvas");
            var ctx=c.getContext("2d");
            
            $capSVG = $("#cap");
            $(".capPrimary", $capSVG).attr('style', 'fill:rgb('+palette[0]+')');
            $(".capBrim", $capSVG).attr('style', 'fill:rgb('+palette[4]+')');
            
            var img = new Image();
            img.onload=function(){
              for (var i = 0, len = data.length, p; i < len; i++) {
                p = data[i];
                ctx.drawImage(this, p[0] , p[1] , 150, 150);
              }
            }
            img.src = $capSVG;
            
            
            ctx.fillStyle = 'rgb('+palette[0]+')';
            ctx.fillRect(0,0,25,25);
            ctx.fillStyle = 'rgb('+palette[1]+')';
            ctx.fillRect(25,25,25,25);
            ctx.fillStyle = 'rgb('+palette[2]+')';
            ctx.fillRect(50,50,25,25);
          }
        }

        http.open("POST", url, true);
        http.send(JSON.stringify(data));
      }
    </script>
    <style>
      #capDiv{
        height:640px;
        width:480px;
      }
      .cap
    </style>
  </head>
  <body onload="generate()">
  <button type="submit" onclick="generate()">OK</button>
  <div id="capDiv">
    <svg id="cap" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240.25 169.5">
      <defs>
        <style>
          .capBG{fill:#ffffff;}
          .capBrim{fill:#ff0000;}
          .capPrimary{fill:#0000ff;}
        </style>
      </defs>
      <title>Cap</title>
      <g id="Layer_2" data-name="Layer 2">
        <g id="Reference">
          <path class="capBG" d="M.41,139.47V.41H164.15c-1.4,1.33-1.85,2.74-.39,4.32a47.6,47.6,0,0,1-5.81.92c-9.13.35-18.26.57-27.39.85a9.19,9.19,0,0,0-2.64.26C123,8.46,118,10.14,113.17,12a74,74,0,0,0-7.28,3.57c-2.93,1.52-5.86,3-8.7,4.72-.87.52-1.32,2-2.18,2.25-4.62,1.32-7.45,5.15-10.45,8.21a59.47,59.47,0,0,0-12,17.08q-3,6.74-5.94,13.54c-1,2.24-1.7,4.58-2.71,6.79-.93,2-2.2,3.89-3.1,5.92-.3.67.14,1.65.07,2.47a5.69,5.69,0,0,1-.6,2c-.2.42-.78.66-.94,1.08a83.09,83.09,0,0,0-3.07,8.57c-.63,2.43-2.89,4.61-1.43,7.45a17.49,17.49,0,0,0-2.78,1.48c-2.5,2-4.86,4.1-7.38,6q-6.31,4.87-12.76,9.56c-5.6,4.09-10.44,9.15-16.61,12.51-2.89,1.58-5.44,3.83-8.4,5.24a9.13,9.13,0,0,0-4.55,4.8Z" transform="translate(-0.41 -0.41)"/>
          <path class="capBrim" d="M.41,139.47l2-4.25a9.13,9.13,0,0,1,4.55-4.8c3-1.41,5.51-3.66,8.4-5.24,6.16-3.36,11-8.42,16.61-12.51q6.44-4.7,12.76-9.56c2.52-1.94,4.88-4.07,7.38-6a17.54,17.54,0,0,1,2.78-1.48,19.14,19.14,0,0,1,10.69-.54,38.28,38.28,0,0,0,8.33,1.42c1.73.05,3.14.06,3.83,1.14a10.75,10.75,0,0,1,2.66,0c2.68.81,5.33,1.71,8,2.65,5.95,2.12,11.87,4.3,17.82,6.42,3,1.07,6.06,2.05,9.08,3.11.81.28,1.54.76,2.35,1,2.68.93,5.39,1.75,8.05,2.73,2,.72,3.83,1.71,5.79,2.44,2.22.81,4.49,1.45,6.74,2.18,3.83,1.24,7.6,2.72,11.5,3.67s7.45,3.19,11.66,2.9c.51,0,1.07.51,1.6.79a5.61,5.61,0,0,0,1.2.66,47.06,47.06,0,0,1,5.73,1.33,45.61,45.61,0,0,1,5.44,2.9c-2.1,1.66-4.29,3.21-6.26,5-2.89,2.61-5.29,5.69-8.69,7.8-3.13,1.94-5.86,4.52-8.91,6.62-3.35,2.31-6.81,4.47-10.31,6.55s-7.3,4.31-11.09,6.2c-4.13,2.07-8.38,3.89-12.64,5.71a48,48,0,0,1-5.09,1.56H100.8c-1.58-.39-3.15-.82-4.75-1.15-.73-.15-1.55.05-2.24-.16-3.26-1-6.51-2.08-9.73-3.24s-6.17-2.28-9.17-3.63a64.84,64.84,0,0,1-6.43-3.49c-3.49-2.07-7-4.09-10.38-6.36-5.59-3.77-11-7.77-16.61-11.55-.79-.54-2-.41-3.07-.59-.72-.41-1.41-.86-2.15-1.22-1.58-.77-3.49-1.18-4.73-2.31-3.5-3.2-7.35-5-12.18-4.48a6.77,6.77,0,0,1-1.81-.12c-2-.32-5.28,1.86-5.62,3.71-3.13.17-5.23,2.14-6.84,4.42-1.24,1.75-1.8,4-2.67,6-.42-.49-.88-1-1.25-1.49a12.66,12.66,0,0,1-.77-1.47Q.41,141.12.41,139.47Z" transform="translate(-0.41 -0.41)"/>
          <path class="capBG" d="M112.32,169.91a48,48,0,0,0,5.09-1.56c4.25-1.81,8.51-3.64,12.64-5.71,3.78-1.89,7.45-4,11.09-6.2s7-4.24,10.31-6.55c3-2.1,5.78-4.67,8.91-6.62,3.4-2.11,5.81-5.19,8.69-7.8,2-1.79,4.17-3.34,6.26-5,2,.13,4,.15,5.94.42,3.55.5,7.08,1.07,10.6,1.76,5,1,10.07,2.12,15.11,3.15a46.72,46.72,0,0,1,5.58,1,57,57,0,0,0,15.59,3.1,14.8,14.8,0,0,1,3.21,1c.81-2,1.83-4.17,2.55-6.41a66,66,0,0,0,2.25-8.48c1.06-6,1.93-12,2.81-18a85.91,85.91,0,0,0,1.35-11C240.43,87,240.58,77,238,67a87.91,87.91,0,0,0-6.53-17.53c-1.87-3.74-4.49-7.1-6.81-10.61a50.9,50.9,0,0,0-13-13.08c-4.24-3.06-8.74-5.76-13.12-8.63-1.78-1.17-3.49-2.47-5.34-3.5a36.19,36.19,0,0,0-4.84-2.07,39.33,39.33,0,0,0-7.22-2.48c-2-.33-3.35-.92-4.25-2.65.16-2.59-.81-3.77-3.26-4.43A36.93,36.93,0,0,1,169.5.41h71.15v169.5Z" transform="translate(-0.41 -0.41)"/>
          <path class="capBG" d="M.41,142.76a12.66,12.66,0,0,0,.77,1.47c.37.53.83,1,1.25,1.49a5.9,5.9,0,0,1,.79,1.57c.41,2.51,2.72,5.33,5.15,5.68a99.8,99.8,0,0,0,9.94.92,6.07,6.07,0,0,0,3.18-1.06c1.43-.89,2.58-2.3,4.06-3,4.45-2.21,8.11-5.46,11.9-8.56a5.89,5.89,0,0,0,1-1.51c1,.18,2.27.06,3.07.59,5.58,3.78,11,7.78,16.61,11.55,3.36,2.27,6.89,4.29,10.38,6.36a64.84,64.84,0,0,0,6.43,3.49c3,1.34,6.08,2.51,9.17,3.63s6.47,2.22,9.73,3.24c.69.22,1.51,0,2.24.16,1.59.33,3.17.76,4.75,1.15H.41Q.41,156.34.41,142.76Z" transform="translate(-0.41 -0.41)"/>
          <path class="capBrim" d="M169.5.41A36.93,36.93,0,0,0,173.63,2c2.45.65,3.42,1.84,3.26,4.43L163.77,4.73c-1.47-1.58-1-3,.39-4.32Z" transform="translate(-0.41 -0.41)"/>
          <path class="capPrimary" d="M163.77,4.73l13.12,1.72c.9,1.73,2.29,2.32,4.25,2.65a39.33,39.33,0,0,1,7.22,2.48,36.19,36.19,0,0,1,4.84,2.07c1.85,1,3.56,2.33,5.34,3.5,4.38,2.87,8.88,5.57,13.12,8.63a50.9,50.9,0,0,1,13,13.08c2.31,3.51,4.94,6.87,6.81,10.61A87.91,87.91,0,0,1,238,67c2.55,10,2.4,20,2.25,30.09a85.91,85.91,0,0,1-1.35,11c-.88,6-1.75,12-2.81,18a66,66,0,0,1-2.25,8.48c-.72,2.24-1.74,4.39-2.55,6.41a14.8,14.8,0,0,0-3.21-1,57,57,0,0,1-15.59-3.1,46.72,46.72,0,0,0-5.58-1c-5-1-10.06-2.17-15.11-3.15-3.51-.69-7.05-1.26-10.6-1.76-2-.28-4-.29-5.94-.42a45.6,45.6,0,0,0-5.44-2.9,47.06,47.06,0,0,0-5.73-1.33,5.61,5.61,0,0,1-1.2-.66c-.53-.29-1.09-.83-1.6-.79-4.21.29-7.77-2-11.66-2.9s-7.67-2.43-11.5-3.67c-2.25-.73-4.53-1.37-6.74-2.18-2-.72-3.83-1.71-5.79-2.44-2.66-1-5.37-1.8-8.05-2.73-.81-.28-1.54-.76-2.35-1-3-1.06-6.07-2-9.08-3.11-5.95-2.12-11.87-4.3-17.82-6.42-2.64-.94-5.29-1.84-8-2.65a10.75,10.75,0,0,0-2.66,0c-.69-1.09-2.1-1.09-3.83-1.14a38.28,38.28,0,0,1-8.33-1.42,19.14,19.14,0,0,0-10.69.54c-1.46-2.84.8-5,1.43-7.44a83.09,83.09,0,0,1,3.07-8.57c.16-.42.74-.67.94-1.08a5.69,5.69,0,0,0,.6-2c.07-.82-.38-1.8-.07-2.47.91-2,2.18-3.9,3.1-5.92,1-2.21,1.75-4.55,2.71-6.79q2.91-6.79,5.94-13.54a59.47,59.47,0,0,1,12-17.08c3-3.06,5.83-6.89,10.45-8.21.87-.25,1.31-1.73,2.18-2.25,2.84-1.67,5.77-3.19,8.7-4.72A74,74,0,0,1,113.17,12C118,10.14,123,8.46,127.93,6.76a9.19,9.19,0,0,1,2.64-.26c9.13-.28,18.26-.5,27.39-.85A47.6,47.6,0,0,0,163.77,4.73Z" transform="translate(-0.41 -0.41)"/>
          <path class="capPrimary" d="M38.43,139.74a5.89,5.89,0,0,1-1,1.51c-3.79,3.09-7.45,6.35-11.9,8.56-1.49.74-2.63,2.15-4.06,3a6.07,6.07,0,0,1-3.18,1.06A99.8,99.8,0,0,1,8.38,153c-2.43-.35-4.75-3.17-5.15-5.68a5.9,5.9,0,0,0-.79-1.57c.87-2,1.43-4.24,2.67-6,1.61-2.28,3.71-4.25,6.84-4.42.34-1.86,3.63-4,5.62-3.71a6.77,6.77,0,0,0,1.81.12c4.82-.55,8.67,1.29,12.18,4.48,1.24,1.13,3.15,1.54,4.73,2.31C37,138.88,37.72,139.33,38.43,139.74Z" transform="translate(-0.41 -0.41)"/>
        </g>
      </g>
    </svg>
  </div>
  <p id="result">result</p>
  <canvas width=640 height=480 id="canvas"></canvas>
  </body>
</html>